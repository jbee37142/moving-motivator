# 기술 스택

## 1) 범위와 전제

* 본 MVP는 **서버 없이 클라이언트(Web)만으로 구현**한다.
* 기능 범위:
  * 상황 카드 2개 비교 선택
  * **동기부여(POS)** 파트 + **동기저해(NEG)** 파트 진행
  * 요소 점수 누적 후 **Top 3 리포트** 제공
* 제외(Non-goals):

  * 로그인/계정/서버 저장
  * 공유/비교/집단 분석
  * 고도화 매칭(적응형, Elo/BT 등) — 추후

---

## 2) 데이터 스펙

### 2.1 요소(Element)

* 총 16개
* 필드:

  * `id` (string, 예: `"E01"`)
  * `name` (string)
  * `axis` (string: 상위축)

### 2.2 카드(Card)

* 총 64장 = 16요소 × (POS 2 + NEG 2)
* 필드:
  * `id` (string, 예: `"C0001"`)
  * `element_id` (string, 요소 id 참조)
  * `polarity` (`"POS" | "NEG"`)
  * `text` (string)
  * `intensity_level` (number, 1..3) — MVP에서는 2로 통일 가능
* 데이터 제공 방식:
  * 정적 JSON을 번들에 포함(정적 import)

### 2.3 런타임 데이터 검증(앱 시작 시 1회)

* 요소 16개, 카드 64개 존재
* 요소별 POS 2 / NEG 2 충족
* `id` 중복 없음
* 모든 카드의 `element_id`가 유효한 요소를 참조

---

## 3) 세션/상태 스펙

### 3.1 단계(Phase)

* `START` → `NAME(optional)` → `POS_MATCH` → `NEG_MATCH` → `REPORT`

### 3.2 라운드

* 각 MATCH 단계는 `roundsPerPhase` 만큼 진행 후 종료

  * 초기값(예): POS 12 + NEG 12 (총 24)
* 매 라운드에서 `currentPair`(좌/우 카드 1장씩)를 생성하여 표시

### 3.3 점수

* `scoresPos[elementId]`: POS 파트 점수
* `scoresNeg[elementId]`: NEG 파트 점수
* 선택 규칙:
  * 좌 선택: 좌 카드의 요소 +1
  * 우 선택: 우 카드의 요소 +1
  * **중립(둘 다 비슷함)**: 좌/우 요소 각각 +0.5

### 3.4 매칭 규칙(MVP)

* 한 라운드의 두 카드는 **서로 다른 요소**에서 1장씩 선택
* 가능한 한 **동일 카드 반복 노출 방지**
* 고도화 매칭(적응형/확률 모델)은 구현하지 않음(추후 TODO)

### 3.5 저장/복원(Persistence)

* 세션은 `localStorage`에 저장하여 새로고침 후에도 이어서 진행 가능
* 저장 데이터에 `schemaVersion` 포함

  * 버전 불일치 시 세션 초기화

---

## 4) UI/UX 스펙(핵심 화면)

### 4.1 Landing/Start

* 핵심 메시지: 설문이 아닌 “상황 선택 게임”
* CTA: 시작하기

### 4.2 Name(선택)

* 이름 입력은 선택이며 건너뛰기 가능
* 리포트에서 이름 반영(미입력 시 “당신”)

### 4.3 Match Screen(공통)

* 상단: 단계 라벨(POS/NEG) + 진행률(n/N)
* 중앙: ScenarioCard 2장
* 하단:

  * “둘 다 비슷함” 버튼(중립)
  * NEG에서만 “부정 파트 건너뛰기”(옵션)
* 인터랙션:

  * 카드 선택 시 즉시 다음 라운드로 전환
  * 접근성: 키보드 선택(좌/우), 중립(스페이스 등) 지원

### 4.4 Report Screen

* Top3 요소 표시
* 각 Top 요소 섹션 구성:

  * “왜 중요한지” 1문장(정적 매핑)
  * Trigger On: 해당 요소 POS 카드 2개
  * Trigger Off: 해당 요소 NEG 카드 2개
  * 환경 설계 팁 2~3개(정적 매핑)
* 액션:

  * “요약 복사”(클립보드)
  * “다시 하기”(세션 초기화)

---

## 5) 결과 계산 스펙

* 최종 점수:

  * `finalScore[element] = scoresPos[element] + 0.8 * scoresNeg[element]`
  * (가중치 0.8은 MVP 기본값, 추후 조정 가능)
* Top3:

  * `finalScore` 내림차순 정렬 후 상위 3개
* 부정 파트 스킵 시:

  * `scoresNeg`는 0으로 처리하고 동일 로직 적용

---

## 6) 예외/상태 처리

* 중단/이탈:
  * “지금까지의 선택으로 리포트를 만들까요?”(권장)
